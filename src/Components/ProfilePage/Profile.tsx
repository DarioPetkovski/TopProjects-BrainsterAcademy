import React from "react";
import { useGlobalContext } from "../../context/GlobalContext";
import { Product } from "../../interfaces/interfaces";
import { ProductCard } from "../ProductCard/ProducCard";
import { useNavigate } from "react-router-dom";

export const Profile = () => {
  const { data, toggleUserLogin } = useGlobalContext();
  const filteredItems = data?.filter((item) => item.isFavorite);
  const navigate = useNavigate();
  const handleLogOut = () => {
    toggleUserLogin();
    navigate("/");
  };
  const renderCards = () => {
    return filteredItems?.slice(0, 4).map((card: Product) => {
      return (
        <div key={card.id} className="col-3 mb-3">
          <ProductCard {...card} />
        </div>
      );
    });
  };
  return (
    <>
      <div className="container">
        <div className="row">
          <h1 className="py-3">Мој профил</h1>
        </div>
      </div>
      <div className="container">
        <div className="row">
          <div className="col-2">
            <div className="py-3">
              <img
                src={require("../../assets/images/profile.png")}
                alt="Profile"
              />
            </div>

            <div className="py-3">
              <svg
                width="25"
                height="25"
                viewBox="0 0 60 60"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M30.0074 10.8263C32.8639 8.26932 36.5912 6.90349 40.4234 7.0095C44.2557 7.11552 47.9018 8.68532 50.6124 11.3963C53.3208 14.1043 54.8907 17.7457 55.0004 21.574C55.1101 25.4024 53.7513 29.1277 51.2024 31.9863L30.0024 53.2163L8.80744 31.9863C6.25558 29.1262 4.89545 25.3977 5.00628 21.5663C5.11711 17.7348 6.6905 14.0912 9.40342 11.3834C12.1164 8.67559 15.763 7.10908 19.5946 7.00549C23.4262 6.90189 27.1522 8.26906 30.0074 10.8263Z"
                  fill="#FFA500"
                />
              </svg>
              <span className="pl-2 fw-bold">Омилено</span>
            </div>
            <div className="py-3">
              <svg
                width="25"
                height="25"
                viewBox="0 0 28 34"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M28 27.2143V28.7857H0V27.2143L3.11111 24.0714V14.6429C3.11111 9.77143 6.26889 5.48143 10.8889 4.09857V3.64286C10.8889 2.80932 11.2167 2.00992 11.8001 1.42052C12.3836 0.831121 13.1749 0.5 14 0.5C14.8251 0.5 15.6164 0.831121 16.1999 1.42052C16.7833 2.00992 17.1111 2.80932 17.1111 3.64286V4.09857C21.7311 5.48143 24.8889 9.77143 24.8889 14.6429V24.0714L28 27.2143ZM17.1111 30.3571C17.1111 31.1907 16.7833 31.9901 16.1999 32.5795C15.6164 33.1689 14.8251 33.5 14 33.5C13.1749 33.5 12.3836 33.1689 11.8001 32.5795C11.2167 31.9901 10.8889 31.1907 10.8889 30.3571"
                  fill="#FFA500"
                />
              </svg>
              <span className="pl-2 fw-bold">Известување на цена</span>
            </div>
            <div className="py-3">
              <svg
                width="23"
                height="23"
                viewBox="0 0 38 38"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M13.801 38L13.0448 31.92C12.6352 31.7617 12.2495 31.5717 11.8878 31.35C11.526 31.1283 11.1712 30.8908 10.8234 30.6375L5.199 33.0125L0 23.9875L4.86816 20.2825C4.83665 20.0608 4.8209 19.8474 4.8209 19.6422V18.3597C4.8209 18.1532 4.83665 17.9392 4.86816 17.7175L0 14.0125L5.199 4.9875L10.8234 7.3625C11.17 7.10917 11.5323 6.87167 11.9104 6.65C12.2886 6.42833 12.6667 6.23833 13.0448 6.08L13.801 0H24.199L24.9552 6.08C25.3648 6.23833 25.7511 6.42833 26.1141 6.65C26.4771 6.87167 26.8313 7.10917 27.1766 7.3625L32.801 4.9875L38 14.0125L33.1318 17.7175C33.1634 17.9392 33.1791 18.1532 33.1791 18.3597V19.6403C33.1791 19.8468 33.1476 20.0608 33.0846 20.2825L37.9527 23.9875L32.7537 33.0125L27.1766 30.6375C26.83 30.8908 26.4677 31.1283 26.0896 31.35C25.7114 31.5717 25.3333 31.7617 24.9552 31.92L24.199 38H13.801ZM19.0945 25.65C20.9221 25.65 22.4818 25.0008 23.7736 23.7025C25.0655 22.4042 25.7114 20.8367 25.7114 19C25.7114 17.1633 25.0655 15.5958 23.7736 14.2975C22.4818 12.9992 20.9221 12.35 19.0945 12.35C17.2355 12.35 15.6676 12.9992 14.3908 14.2975C13.1141 15.5958 12.4764 17.1633 12.4776 19C12.4776 20.8367 13.116 22.4042 14.3927 23.7025C15.6695 25.0008 17.2368 25.65 19.0945 25.65Z"
                  fill="#FFA500"
                />
              </svg>
              <span className="pl-2 fw-bold">Поставувања</span>
            </div>
            <div className="py-3">
              <svg
                width="23"
                height="23"
                viewBox="0 0 30 30"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M5.24029 27.1364C5.23975 26.8283 5.30003 26.5232 5.41766 26.2385C5.53529 25.9539 5.70796 25.6952 5.92577 25.4774C6.14359 25.2596 6.40225 25.0869 6.68693 24.9693C6.97162 24.8516 7.27673 24.7914 7.58476 24.7919H21.7868L1.51395 4.51906C1.07504 4.08015 0.828459 3.48486 0.82846 2.86414C0.828459 2.24342 1.07504 1.64813 1.51395 1.20922C1.95286 0.770302 2.54816 0.523722 3.16888 0.523724C3.78959 0.523722 4.38489 0.770302 4.8238 1.20921L25.0966 21.482L25.0994 7.27727C25.0994 6.65548 25.3464 6.05915 25.7861 5.61947C26.2257 5.1798 26.8221 4.93279 27.4439 4.93279C28.0656 4.93279 28.662 5.1798 29.1017 5.61947C29.5413 6.05915 29.7883 6.65548 29.7883 7.27727L29.7883 27.1364C29.7889 27.4444 29.7286 27.7495 29.611 28.0342C29.4933 28.3189 29.3207 28.5775 29.1028 28.7953C28.885 29.0132 28.6264 29.1858 28.3417 29.3035C28.057 29.4211 27.7519 29.4814 27.4439 29.4808L7.58476 29.4808C7.27673 29.4814 6.97162 29.4211 6.68694 29.3035C6.40225 29.1858 6.14358 29.0132 5.92577 28.7954C5.70796 28.5775 5.53529 28.3189 5.41766 28.0342C5.30003 27.7495 5.23975 27.4444 5.24029 27.1364Z"
                  fill="#FFA500"
                />
              </svg>
              <button onClick={handleLogOut} className="pl-2 btn fw-bold">
                Одјави се
              </button>
            </div>
          </div>
          <div className="col-10">
            <div className="mt-5 ml-5 pl-5">
              <h1 className="fw-bold mt-5">Омилено</h1>
              <h4 className="mb-5">Зачувани продукти</h4>
              <div className="row mt-5">{renderCards()}</div>
            </div>
          </div>
        </div>
      </div>
    </>
  );
};
